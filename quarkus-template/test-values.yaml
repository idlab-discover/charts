global:
  host: example.org
  ingressRoutes:
    matchHost: true
  deploymentStrategy:
    type: Recreate
  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    successThreshold: 1
    failureThreshold: 3
    httpGet:
      path: /q/health/live
      port: metrics
  openfga:
    enabled: true
    url: "https://openfga.example.org"
    storeId: "default-store"
  oidc:
    authServerUrl: http://keycloak.keycloak/auth
    clientId: quarkus
    clientSecret: secret
  minio:
    useTls: false
    host: slices-iri.slices.eu
    accessKey: minioaccesskey
    secretKey: miniosecretkey
  s3:
    endpoint: http://minio.minio.svc.cluster.local:9000
    accessKey: minioadmin
    secretKey: minioadmin
    applicationYaml:
      quarkus:
        s3:
          path-style-access: true
ingressRoutes:
  enabled: true
  routes:
    - match: "PathPrefix(`/[^/]+/changes`)"
      middlewares:
        - name: StripPrefix
    - match: "PathPrefix(`/[^/]+/slices`)"
      middlewares:
        - name: StripPrefix
openfga:
  enabled: true
oidc:
  enabled: true
  authServerUrl: https://obelisk.example.org/auth/realms/obelisk
keycloakAdmin:
  enabled: true
  serverUrl: https://obelisk.example.org/auth
s3:
  enabled: true
minio:
  enabled: true
podMonitor:
  enabled: true

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 300
      policies:
        - type: Percent
          value: 50
          periodSeconds: 60
    scaleUp:
      stabilizationWindowSeconds: 60
      policies:
        - type: Percent
          value: 100
          periodSeconds: 30
        - type: Pods
          value: 2
          periodSeconds: 30
      selectPolicy: Max
